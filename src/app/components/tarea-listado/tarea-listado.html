<div class="container">
  <h1>Gestor de Tareas</h1>
  
  <a [routerLink]="['/crear']" class="btn btn-primary mb-3">
    + Crear Nueva Tarea
  </a>

  <div *ngIf="tareas.length === 0; else listaTareas" class="alert alert-info">
    No hay tareas pendientes.
  </div>

  <ng-template #listaTareas>
    <ul class="list-group">
      <li *ngFor="let tarea of tareas" 
          class="list-group-item d-flex justify-content-between align-items-center"
          [class.completada]="tarea.completada">
        
        <span [class.tachado]="tarea.completada" (click)="toggleCompletada(tarea)">
          <strong>{{ tarea.titulo }}</strong>
          <small *ngIf="tarea.descripcion"> - {{ tarea.descripcion }}</small>
        </span>

        <div>
          <a [routerLink]="['/editar', tarea.id]" class="btn btn-sm btn-warning me-2">
            Editar
          </a>
          <button (click)="eliminarTarea(tarea.id)" class="btn btn-sm btn-danger">
            Eliminar
          </button>
        </div>
      </li>
    </ul>
  </ng-template>
</div>

<style>
  .list-group-item.completada {
    background-color: #f0fff0;
  }
  .tachado {
    text-decoration: line-through;
    color: #6c757d;
    cursor: pointer;
  }
</style>